<idea-plugin>
    <depends optional="true" config-file="kotlin-nodejs.xml">NodeJS</depends>
    <depends>com.intellij.idea-lldb</depends>

    <application-components>
        <component>
            <interface-class>org.jetbrains.konan.CidrNativeIconProvider</interface-class>
            <implementation-class>org.jetbrains.konan.IdeaKonanIconProvider</implementation-class>
        </component>
        <!--<component>
            <implementation-class>org.jetbrains.konan.internal.KotlinNativeIdeInitializer</implementation-class>
        </component>-->
    </application-components>

    <project-components>
        <component>
            <implementation-class>org.jetbrains.konan.gradle.GradleKonanWorkspace</implementation-class>
        </component>
    </project-components>

    <extensions defaultExtensionNs="com.intellij">
        <projectTaskRunner implementation="org.jetbrains.konan.gradle.execution.GradleKonanProjectTaskRunner"/>

        <configurationType implementation="org.jetbrains.konan.gradle.execution.GradleKonanAppRunConfigurationType"/>
        <runConfigurationProducer implementation="org.jetbrains.konan.gradle.execution.GradleKonanTargetRunConfigurationProducer"/>
        <executionTargetProvider implementation="org.jetbrains.konan.gradle.execution.GradleKonanExecutionTargetProvider"/>
        <runLineMarkerContributor language="ObjectiveC"
                                  implementationClass="org.jetbrains.konan.gradle.execution.GradleKonanTargetRunLineMarkerProvider"/>
        <stepsBeforeRunProvider implementation="org.jetbrains.konan.gradle.execution.GradleKonanBuildBeforeRunTaskProvider"/>
        <externalProjectDataService implementation="org.jetbrains.konan.gradle.KonanProjectDataService"/>
    </extensions>

    <extensionPoints>
        <extensionPoint qualifiedName="org.jetbrains.kotlin.native.gradleLauncherProvider"
                        interface="org.jetbrains.konan.gradle.execution.GradleKonanLauncherProvider"/>
    </extensionPoints>

    <extensions defaultExtensionNs="org.jetbrains.plugins.gradle">
        <projectResolve implementation="org.jetbrains.konan.gradle.KonanProjectResolver"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin.native">
        <gradleLauncherProvider implementation="org.jetbrains.konan.gradle.execution.IdeaGradleKonanLauncherProvider"/>
    </extensions>

    <extensions defaultExtensionNs="cidr.debugger">
        <languageSupport language="kotlin" implementationClass="org.jetbrains.konan.debugger.KonanDebuggerLanguageSupport"/>
        <lineBreakpointFileTypesProvider implementation="org.jetbrains.konan.debugger.KonanLineBreakpointFileTypesProvider"/>
        <!--<valueRendererFactory implementation="org.jetbrains.konan.debugger.KonanValueRendererFactory"/>-->
    </extensions>
</idea-plugin>